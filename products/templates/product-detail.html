{% extends "base.html" %}
{% load static %}

{% block content %}
    <h2>{{ product.name }}</h2>
    <p>Category: {{ product.category.name }}</p>
    <p>Price: ${{ product.price }}</p>
    <p>Stock Quantity: {{ product.stock_quantity }}</p>

    <!-- Display the product image -->
    {% if product.image %}
        <img src="{{ product.image.url }}" alt="{{ product.name }}" class="img-fluid rounded shadow" style="max-width: 100%;">
    {% else %}
        <img src="{% static 'images/default-product.jpg' %}" alt="No Image Available" class="img-fluid rounded shadow">
    {% endif %}

    <form method="POST" action="{% url 'make_order' %}">
        {% csrf_token %}
        <input type="hidden" name="product_id" value="{{ product.id }}">
        <label for="quantity">Quantity:</label>
        <input type="number" name="quantity" id="quantity" min="1" value="1">
        <button type="submit">Order Now</button>
    </form>

    {% if messages %}
        <ul>
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}

